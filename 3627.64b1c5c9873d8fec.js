"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[3627],{418:(ve,W,f)=>{f.d(W,{A8:()=>J,Ov:()=>K,Z9:()=>X,eX:()=>N,k:()=>H,o2:()=>D,yy:()=>Q});var o=f(4033),q=f(7579),O=f(2223);class D{}function X(p){return p&&"function"==typeof p.connect&&!(p instanceof o.c)}class Q{applyChanges(r,d,h,R,_){r.forEachOperation((w,v,S)=>{let y,C;if(null==w.previousIndex){const M=h(w,v,S);y=d.createEmbeddedView(M.templateRef,M.context,M.index),C=1}else null==S?(d.remove(v),C=3):(y=d.get(v),d.move(y,S),C=2);_&&_({context:y?.context,operation:C,record:w})})}detach(){}}class N{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(r,d,h,R,_){r.forEachOperation((w,v,S)=>{let y,C;null==w.previousIndex?(y=this._insertView(()=>h(w,v,S),S,d,R(w)),C=y?1:0):null==S?(this._detachAndCacheView(v,d),C=3):(y=this._moveView(v,S,d,R(w)),C=2),_&&_({context:y?.context,operation:C,record:w})})}detach(){for(const r of this._viewCache)r.destroy();this._viewCache=[]}_insertView(r,d,h,R){const _=this._insertViewFromCache(d,h);if(_)return void(_.context.$implicit=R);const w=r();return h.createEmbeddedView(w.templateRef,w.context,w.index)}_detachAndCacheView(r,d){const h=d.detach(r);this._maybeCacheView(h,d)}_moveView(r,d,h,R){const _=h.get(r);return h.move(_,d),_.context.$implicit=R,_}_maybeCacheView(r,d){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(r);else{const h=d.indexOf(r);-1===h?r.destroy():d.remove(h)}}_insertViewFromCache(r,d){const h=this._viewCache.pop();return h&&d.insert(h,r),h||null}}class K{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(r=!1,d,h=!0,R){this._multiple=r,this._emitChanges=h,this.compareWith=R,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new q.x,d&&d.length&&(r?d.forEach(_=>this._markSelected(_)):this._markSelected(d[0]),this._selectedToEmit.length=0)}select(...r){this._verifyValueAssignment(r),r.forEach(h=>this._markSelected(h));const d=this._hasQueuedChanges();return this._emitChangeEvent(),d}deselect(...r){this._verifyValueAssignment(r),r.forEach(h=>this._unmarkSelected(h));const d=this._hasQueuedChanges();return this._emitChangeEvent(),d}setSelection(...r){this._verifyValueAssignment(r);const d=this.selected,h=new Set(r);r.forEach(_=>this._markSelected(_)),d.filter(_=>!h.has(_)).forEach(_=>this._unmarkSelected(_));const R=this._hasQueuedChanges();return this._emitChangeEvent(),R}toggle(r){return this.isSelected(r)?this.deselect(r):this.select(r)}clear(r=!0){this._unmarkAll();const d=this._hasQueuedChanges();return r&&this._emitChangeEvent(),d}isSelected(r){return this._selection.has(this._getConcreteValue(r))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(r){this._multiple&&this.selected&&this._selected.sort(r)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(r){r=this._getConcreteValue(r),this.isSelected(r)||(this._multiple||this._unmarkAll(),this.isSelected(r)||this._selection.add(r),this._emitChanges&&this._selectedToEmit.push(r))}_unmarkSelected(r){r=this._getConcreteValue(r),this.isSelected(r)&&(this._selection.delete(r),this._emitChanges&&this._deselectedToEmit.push(r))}_unmarkAll(){this.isEmpty()||this._selection.forEach(r=>this._unmarkSelected(r))}_verifyValueAssignment(r){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(r){if(this.compareWith){for(let d of this._selection)if(this.compareWith(r,d))return d;return r}return r}}let J=(()=>{class p{constructor(){this._listeners=[]}notify(d,h){for(let R of this._listeners)R(d,h)}listen(d){return this._listeners.push(d),()=>{this._listeners=this._listeners.filter(h=>d!==h)}}ngOnDestroy(){this._listeners=[]}}return p.\u0275fac=function(d){return new(d||p)},p.\u0275prov=O.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const H=new O.OlP("_ViewRepeater")},3627:(ve,W,f)=>{f.d(W,{by:()=>Ue,p0:()=>Pe});var o=f(2223),O=(f(8930),f(1692)),D=f(418),$=(f(2966),f(6076)),N=(f(4755),f(7579)),A=(f(2076),f(1135)),H=(f(5191),f(9646));f(2722),f(5698);let He=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[$.Cl]}),t})();var pe=f(1217),ge=f(6451),de=f(9841),ce=f(4004);let Pe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[pe.BQ,He,pe.BQ]}),t})();class Ve extends D.o2{get data(){return this._data.value}set data(a){a=Array.isArray(a)?a:[],this._data.next(a),this._renderChangesSubscription||this._filterData(a)}get filter(){return this._filter.value}set filter(a){this._filter.next(a),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(a){this._sort=a,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(a){this._paginator=a,this._updateChangeSubscription()}constructor(a=[]){super(),this._renderData=new A.X([]),this._filter=new A.X(""),this._internalPageChanges=new N.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,n)=>{const s=e[n];if((0,O.t6)(s)){const i=Number(s);return i<9007199254740991?i:s}return s},this.sortData=(e,n)=>{const s=n.active,i=n.direction;return s&&""!=i?e.sort((l,c)=>{let u=this.sortingDataAccessor(l,s),b=this.sortingDataAccessor(c,s);const m=typeof u,k=typeof b;m!==k&&("number"===m&&(u+=""),"number"===k&&(b+=""));let g=0;return null!=u&&null!=b?u>b?g=1:u<b&&(g=-1):null!=u?g=1:null!=b&&(g=-1),g*("asc"==i?1:-1)}):e},this.filterPredicate=(e,n)=>{const s=Object.keys(e).reduce((l,c)=>l+e[c]+"\u25ec","").toLowerCase(),i=n.trim().toLowerCase();return-1!=s.indexOf(i)},this._data=new A.X(a),this._updateChangeSubscription()}_updateChangeSubscription(){const a=this._sort?(0,ge.T)(this._sort.sortChange,this._sort.initialized):(0,H.of)(null),e=this._paginator?(0,ge.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,H.of)(null),s=(0,de.a)([this._data,this._filter]).pipe((0,ce.U)(([c])=>this._filterData(c))),i=(0,de.a)([s,a]).pipe((0,ce.U)(([c])=>this._orderData(c))),l=(0,de.a)([i,e]).pipe((0,ce.U)(([c])=>this._pageData(c)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=l.subscribe(c=>this._renderData.next(c))}_filterData(a){return this.filteredData=null==this.filter||""===this.filter?a:a.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(a){return this.sort?this.sortData(a.slice(),this.sort):a}_pageData(a){if(!this.paginator)return a;const e=this.paginator.pageIndex*this.paginator.pageSize;return a.slice(e,e+this.paginator.pageSize)}_updatePaginator(a){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=a,e.pageIndex>0)){const n=Math.ceil(e.length/e.pageSize)-1||0,s=Math.min(e.pageIndex,n);s!==e.pageIndex&&(e.pageIndex=s,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}class Ue extends Ve{}}}]);